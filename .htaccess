RewriteEngine On

# Force HTTPS and non-www (canonical URL)
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} ^www\.levyd01\.online [NC]
RewriteRule ^(.*)$ https://levyd01.online/$1 [L,R=301]

# Remove trailing slashes (optional but recommended for consistency)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ /$1 [L,R=301]

# Block query parameters that cause duplicates (e.g., UTM tags)
RewriteCond %{QUERY_STRING} ^(.+)$
RewriteRule ^(.*)$ /$1? [R=301,L]

# AddType for XML (keep this if you need it)
AddType application/xml .xml

# ----------------------------------------------------------------------
# Optional: Security headers to prevent content sniffing/mime-type issues
# ----------------------------------------------------------------------
<IfModule mod_headers.c>
  Header set X-Content-Type-Options "nosniff"
</IfModule>
